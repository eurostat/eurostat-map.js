<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>eurostat-map.js</title>
  </head>

  <body>
    <svg id="map"></svg>
    <script src="https://unpkg.com/eurostat-map"></script>

    <script>
      // CAUSES OF DEATH
      eurostatmap
        .map("pie")
        .scale("10M")
        .width(1000)
        .nutsLvl(1)
        .statPie(
            { eurostatDatasetCode: "hlth_cd_asdr2", filters: { sex: "T", time: "2016", age: "TOTAL", unit: "RT" }, unitText: "death rate per 100 000" },
            "icd10", //parameter that the categories belong to
            ["J", "C", "I"], //category codes
            ["Respiratory", "Cancer", "Circulatory"], //category labels
            ["orange", "#A4CDF8", "#2E7AF9", "blue"], //colours
            "A-R_V-Y" //code for the total (all causes of death)
          )
        .pieOtherColor("#FFCC80")
        .pieOtherText("Other")
        .pieMinRadius(6)
        .insets("default")
        .title("Causes of death, 2016")
        .legend({
          x: 600,
          y: 250,
          boxOpacity: 0.8,
          boxFill: "white",
          titleFontWeight: "bold",
          sizeLegend: {
            title: "Death rate per 100 000 inh.",
            values: [700, 1600],
          },
          colorLegend: {
            title: "Cause of death",
          },
        })

        //map styling
        .seaFillStyle("aliceblue")
        .nutsrgFillStyle("white")
        .nutsrgSelFillSty("red")
        .nutsbnStroke({ 0: "black", 1: "grey", 2: "grey", 3: "grey", oth: "grey", co: "black" })
        .nutsbnStrokeWidth({ 0: 0.5, 1: 0.4, 2: 0.4, 3: 0.4, oth: 0.4, co: 0.5 })
        .landFillStyle("#f4f4f4")
        .landStroke({ def: "none", co: "none" })
        .landStrokeWidth({ def: 0, co: 0 })
        .drawCoastalMargin("false")
        .drawGraticule(true)
        .graticuleStroke("lightgrey")
        .graticuleStrokeWidth(1)
        .build();
    </script>
  </body>
</html>
