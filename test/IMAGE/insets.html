<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    </head>

    <body>
        <div style="margin-left: 1%">
            <svg id="container" width="1800" height="800">
                <svg id="mappy"></svg>
                <!-- insets -->
                <svg id="newInsets">
                    <svg id="inset0" width="80" height="80" y="650" x="0"></svg>
                    <svg id="inset1" y="650" x="80"></svg>
                    <svg id="inset2" y="667" x="80"></svg>
                    <svg id="inset3" y="650" x="160"></svg>
                    <svg id="inset4" y="650" x="350"></svg>
                    <svg id="inset5" y="650" x="440"></svg>
                    <svg id="inset6" y="650" x="530"></svg>
                    <svg id="inset7" y="650" x="620"></svg>
                    <svg id="inset8" y="650" x="710"></svg>
                    <svg id="inset9" y="650" x="800"></svg>
                    <svg id="inset10" y="650" x="890"></svg>
                    <svg id="inset11" y="650" x="980"></svg>
                    <svg id="inset12" y="650" x="1070"></svg>
                    <svg id="inset13" y="650" x="1160"></svg>
                </svg>

            </svg>
        </div>

        <script src="../../build/eurostatmap.js"></script>
        <script src="./newInsetsLayout.js"></script>
        <script src="../data/nuts3.js"></script>
        <!-- <script src="../configs/insetConfig_ext.js"></script> -->
        <script src="../data/mixed.js"></script>
        <script>
            let mapWidth = 638
            let mapHeight = 608
            const h = 81.26
            const w = 71.81
            const size = 70 // inset size
            const padding = 4 // inset padding
            const insetsCfg = [
                {
                    geo: 'MT',
                    x: 0,
                    y: 0,
                    width: w,
                    height: h,
                    title: 'Malta',
                    titleFontSize: 8.78,
                    scalebarPosition: [1, 65],
                    labelling: true,
                    labelsToShow: ['values'],
                },
                {
                    geo: 'LI',
                    x: w + p,
                    y: 0,
                    width: w,
                    height: h,
                    title: 'Liechtenstein',
                    titlePosition: [2, 11],
                    titleFill: 'white',
                    titleStroke: 'white',
                    titleStrokeWidth: '2px',
                    titleFontSize: 8.78,
                    titleFontWeight: 'normal',
                    subtitle: 'Liechtenstein',
                    subtitlePosition: [2, 11],
                    subtitleFill: 'black',
                    subtitleFontWeight: 'normal',
                    subtitleFontSize: 8.78,
                    geoCenter: [4285060, 2674000],
                    scale: '01M',
                    scalebarPosition: [1, 65],
                    labelling: true,
                    labelsToShow: ['values'],
                },
            ]

            basemap = function () {
                return eurostatmap
                    .map('ch')
                    .svgId('mappy')
                    .containerId('container')
                    .pixSize(7400)
                    .width(mapWidth)
                    .height(mapHeight)
                    .nutsLvl('mixed')
                    .nutsbnStrokeWidth({ 0: 2, 1: 0.4, 2: 0.4, 3: 0.4, oth: 2, co: 0 })
                    .cntbnStrokeWidth({ eu: 1, efta: 1, cc: 1, oth: 2, co: 0.2 })
                    .bordersToShow(['eu', 'co', 'cc', 'efta'])
                    .insets(insetsConfig())
                    .nuts2jsonBaseURL('https://raw.githubusercontent.com/eurostat/Nuts2json/master/pub/v2/')
                    .scalebarPosition([420, 560])
                    .nutsrgSelFillSty('#003E8C')
            }

            let exampleData1 = {
                FRY: 120,
                TRB: 110,
                AT: 130,
                BE: 110,
                BG: 150,
                CY: 170,
                CZ: 100,
                DE: ':',
                DK: 100,
                EE: 190,
                EL: 180,
                ES: 75,
                ES30: ':',
                FI: 150,
                FR: 140,
                HR: 130,
                HU: 120,
                IE: 110,
                IS: 120,
                IT: 130,
                LI: 140,
                LT: 150,
                LU: 160,
                LV: 170,
                MT: 180,
                NL: 190,
                PL: 110,
                PT: 120,
                RO: 130,
                SE: 140,
                SI: 150,
                SK: 160,
                UK: 170,
                RS: 180,
                CH: 170,
                NO: 140,
                ME: 160,
                MK: 130,
                AL: 120,
                TR: 110,
            }
            let exampleData2 = { ES: 10 }
            let map = basemap()
            map.statData().setData(exampleData1)

            // apply labelling
            setTimeout(() => {
                map.insets('default').insetBoxPosition([365, 0])
                map.build()
            }, 2000)

            setTimeout(() => {
                map.insets(insetsCfg).insetBoxPosition([265, 0])
                map.build()
            }, 3000)

            setTimeout(() => {
                map.insets(insetsConfig()).insetBoxPosition([565, 0])
                map.build()
            }, 4000)

            setTimeout(() => {
                map.insets(insetsCfg).insetBoxPosition([165, 0])
                map.build()
            }, 5000)

            setTimeout(() => {
                map.insets(insetsConfig()).insetBoxPosition([565, 0])
                map.build()
            }, 6000)

            map.build()
        </script>
    </body>
</html>
